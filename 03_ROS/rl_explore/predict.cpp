//
// Trial License - for use to evaluate programs for possible purchase as
// an end-user only.
// File: predict.cpp
//
// MATLAB Coder version            : 5.2
// C/C++ source code generated on  : 27-Jul-2021 10:34:40
//

// Include Files
#include "predict.h"
#include "FullyConnectedActivation.h"
#include "model31_func_internal_types.h"
#include <cmath>

// Type Definitions
struct cell_wrap_14 {
  float f1[300];
};

// Function Definitions
//
// Arguments    : DeepLearningNetwork *obj
//                const float varargin_1[16]
//                float varargout_1[3]
// Return Type  : void
//
namespace coder {
namespace ctarget {
void DeepLearningNetwork_predict(DeepLearningNetwork *obj,
                                 const float varargin_1[16],
                                 float varargout_1[3])
{
  static const float fv1[900]{
      -0.388630062F,    0.934644163F,     -0.941034496F,    -0.0263250805F,
      0.0244110245F,    -0.0318264924F,   -0.0186000615F,   0.0285874773F,
      -0.0486627035F,   0.297288418F,     0.282915413F,     -0.848598182F,
      -1.60133934F,     0.257483602F,     0.837674677F,     -0.0460350253F,
      -0.537652791F,    0.590556741F,     0.0444261134F,    0.00318109477F,
      -0.0203413833F,   -0.00723460503F,  -0.0188659523F,   -0.0124036465F,
      0.801728189F,     -0.915319264F,    -0.363182902F,    -0.00269109919F,
      0.0388605483F,    -0.0398273952F,   -0.0875725448F,   0.1770069F,
      -0.137251124F,    0.00666741049F,   -0.0212292373F,   -0.0419525169F,
      -0.0183001589F,   0.425889879F,     -0.586307704F,    -0.026412284F,
      0.00270051532F,   -0.0302451793F,   -0.0503029041F,   -0.0236860085F,
      0.0236044843F,    -0.486245513F,    0.854730785F,     -1.36865544F,
      0.0379822105F,    -0.0431731977F,   -0.000295238744F, -0.541648924F,
      0.22912477F,      0.049577903F,     0.056301333F,     -0.0586227961F,
      -0.0611592904F,   0.00310399546F,   0.0378160104F,    0.0421570502F,
      0.0290916655F,    -0.0224301424F,   -0.0224125925F,   0.0294489171F,
      0.0152721833F,    -0.00900733657F,  0.0190582406F,    0.0135622369F,
      0.0229448825F,    0.326513F,        -0.924754858F,    0.84939605F,
      1.23495388F,      -1.02846992F,     -0.708458304F,    -0.280641F,
      0.59319675F,      -0.638870716F,    0.281769902F,     0.159431189F,
      -0.695271254F,    0.00893691182F,   0.00261365273F,   0.0204073656F,
      -0.0187063515F,   -0.0607858635F,   -0.00839897525F,  -0.0123782512F,
      -0.0231440701F,   -0.0364264734F,   -0.253655463F,    -0.378863066F,
      0.578458726F,     0.00941249542F,   0.0366327614F,    0.0288841538F,
      -0.90333873F,     0.154484853F,     0.416954666F,     0.0376638249F,
      -0.0108963586F,   -0.0327225886F,   -0.0106830979F,   -0.0175933857F,
      -0.0292180069F,   -0.0261720642F,   0.00895521417F,   -0.0462379567F,
      0.048517704F,     0.0293475967F,    0.0423887782F,    -0.0353924409F,
      0.019153934F,     0.0614138618F,    0.783132672F,     -0.918314457F,
      0.144923761F,     0.0195553657F,    0.0166130494F,    -0.0184817389F,
      0.750319481F,     -1.40627611F,     0.842146158F,     -0.147479206F,
      0.955109417F,     -0.93571043F,     0.193271354F,     -0.976388037F,
      0.79276973F,      0.466959715F,     -1.23447084F,     0.60128957F,
      0.997049F,        -1.22095823F,     1.0655458F,       -0.0108502908F,
      -0.00910107139F,  0.010070432F,     -1.39222658F,     0.54694F,
      0.0758151F,       0.0437903889F,    0.208285108F,     -0.893331409F,
      -0.0346950032F,   -0.0165489912F,   -0.0488373414F,   -0.0149028338F,
      -0.043059431F,    -0.0254187603F,   0.0936176851F,    0.481813103F,
      -1.61975586F,     -0.00820350274F,  0.0523268916F,    0.0259701833F,
      -0.0574736483F,   -0.0117803747F,   0.0238061696F,    -0.210737079F,
      0.0137270289F,    0.00988923665F,   0.00185660576F,   0.0218140725F,
      0.0231206175F,    -1.89797473F,     0.289679438F,     0.490774184F,
      0.565773189F,     0.142929107F,     -1.38772213F,     0.213882968F,
      0.251193404F,     -0.563029F,       0.312048078F,     -0.531706452F,
      0.0203880779F,    -0.185525134F,    0.157566532F,     0.0806818455F,
      0.251546651F,     -0.573813856F,    0.445895731F,     0.0247380175F,
      0.00545627251F,   0.0286427028F,    -0.371235788F,    0.5414083F,
      -0.349931598F,    -0.0383901186F,   -0.0198722873F,   -0.0200798325F,
      0.0817818418F,    0.530493557F,     -1.36482322F,     -0.863543034F,
      1.17734528F,      -0.813002348F,    -0.0188301429F,   0.0468743965F,
      0.00437122025F,   0.570084453F,     -0.431254566F,    0.25503096F,
      -0.0563610271F,   -0.0553561151F,   -0.0295463502F,   -0.0304734614F,
      -0.0318901949F,   -0.0134120956F,   0.0188447F,       -0.00239590346F,
      0.0184012577F,    0.0147722065F,    0.0210694745F,    -0.0361413099F,
      -0.0118827401F,   -0.0147443097F,   0.0224595517F,    0.506901562F,
      -0.458089173F,    0.308999449F,     -0.177396953F,    0.400495857F,
      -0.35337311F,     -1.61642957F,     0.69304204F,      0.0352430232F,
      -0.00105012197F,  -0.0215852689F,   0.0165146813F,    0.0278062895F,
      0.638191402F,     -1.29226887F,     0.0478194468F,    -0.00500030024F,
      -0.0119383354F,   0.000106303509F,  0.0114004286F,    0.0310428832F,
      -0.401714295F,    -0.105411112F,    0.517407537F,     -0.776200294F,
      0.317374647F,     0.152568281F,     0.0273676366F,    0.000898115337F,
      0.00432569254F,   -1.21856642F,     0.475895792F,     0.165838942F,
      0.0141287595F,    -0.0412055254F,   0.0493113548F,    -0.0407007858F,
      0.0314411335F,    0.0746041536F,    -0.0491396748F,   -0.0119602093F,
      -0.0497138F,      -0.00246626511F,  0.0107427323F,    0.0625590533F,
      0.693774283F,     -0.89327091F,     0.388379842F,     0.179649606F,
      0.0420118123F,    -0.0735751837F,   -0.013168361F,    0.0767664239F,
      -0.00743730646F,  0.0287528653F,    -0.0280141346F,   0.0117279803F,
      -1.49789619F,     0.424147695F,     0.191703409F,     0.0191268865F,
      0.0275960416F,    0.00182559F,      0.476408303F,     -0.177928373F,
      -1.45423114F,     0.715141475F,     -0.350831479F,    -0.868044794F,
      0.201081291F,     -1.53832757F,     1.39554191F,      0.000843916845F,
      -0.043389827F,    -0.00654454436F,  -0.0383233614F,   0.787321746F,
      -1.36526275F,     -0.0353806131F,   0.00402792264F,   -0.0315531492F,
      0.0225108638F,    0.545608759F,     -1.47442281F,     -0.190925941F,
      0.0444475971F,    0.0836849362F,    -0.753128886F,    0.608351052F,
      0.199303225F,     -0.0282719359F,   -0.00959292F,     0.0706487074F,
      -0.21975401F,     0.582926154F,     -0.422189802F,    -0.305274159F,
      0.692020297F,     -0.637775958F,    0.235554069F,     0.103500307F,
      -0.698974133F,    0.0770667717F,    -0.115134992F,    0.0528413653F,
      -0.0496170931F,   -0.0684403926F,   -0.0146753145F,   -0.333532751F,
      0.886414707F,     -0.917435586F,    -0.0187236071F,   0.0112811662F,
      -0.00212304946F,  0.159771398F,     0.253154546F,     -0.824525654F,
      -0.188776493F,    -1.06111562F,     1.25767779F,      -0.000729265448F,
      -0.018836759F,    -0.0345970392F,   -0.0253805146F,   -0.0101927975F,
      -0.000231396407F, -0.015990207F,    0.0382869765F,    0.0319577903F,
      -0.192473426F,    0.506237149F,     -0.433004349F,    0.0382335447F,
      0.0369952954F,    0.055346448F,     -1.54507387F,     0.243722096F,
      0.323601395F,     -0.630973518F,    1.13773096F,      -1.076756F,
      -0.0341057219F,   0.0046108556F,    -0.026752118F,    0.0262914393F,
      0.0103167044F,    -0.0365840979F,   -1.02795982F,     -0.498716831F,
      0.901651084F,     -0.0368802473F,   -0.00550611736F,  0.0255033802F,
      -1.19822836F,     0.474718064F,     0.211075813F,     0.0107867057F,
      -0.076273F,       0.0106139565F,    0.00814058F,      0.0248026773F,
      0.0144896619F,    -0.416479915F,    0.0492090434F,    0.0680219382F,
      0.0565993413F,    0.013455567F,     0.0137501378F,    -0.00799692236F,
      -0.0204276647F,   0.0103407009F,    0.0189738497F,    -0.111404665F,
      0.226585031F,     0.0286513325F,    0.0153402565F,    -0.0506556518F,
      -0.0384917445F,   0.0159645267F,    0.0207785275F,    0.00351058436F,
      0.742924511F,     -1.25361311F,     0.49837622F,      0.179882586F,
      -2.22478437F,     0.0031653042F,    0.017808903F,     -0.0714328811F,
      0.0380163677F,    -0.000744659745F, 0.0336934887F,    0.0123970034F,
      -0.0219886601F,   0.0128273312F,    0.0124633964F,    -0.00912339333F,
      -0.0160194561F,   -0.0116403308F,   -0.0453235134F,   -0.00786054228F,
      -0.0387857631F,   -0.0175579544F,   -0.0436534919F,   0.0196422245F,
      -0.0239189975F,   -0.00393980788F,  0.0388146415F,    -0.347903758F,
      0.264215499F,     0.0387642086F,    0.00231710356F,   0.0443173684F,
      -0.0171298906F,   -0.0206942763F,   0.0695895106F,    0.122897588F,
      0.639846325F,     -0.929255366F,    0.0516063087F,    0.00133612915F,
      -0.0385604464F,   0.0390758365F,    -0.0142767029F,   0.0165163875F,
      0.244675756F,     -0.673527837F,    0.490808606F,     0.196727872F,
      0.162398681F,     -0.363723755F,    -0.0190030541F,   -0.0312122013F,
      -0.0836586952F,   0.028772695F,     0.0138666397F,    0.030260209F,
      -0.135932282F,    0.520467877F,     -0.323862791F,    0.0156576764F,
      0.0579254739F,    0.0634479299F,    0.833541F,        -1.5095526F,
      0.502154827F,     -0.397451788F,    0.892688513F,     -1.1055187F,
      -0.0077749039F,   0.0165143F,       0.0306347962F,    -0.0202580914F,
      0.027781561F,     -0.00346327969F,  0.00802306179F,   0.0214482937F,
      -0.0161644779F,   -0.0382681899F,   0.199612081F,     -0.186100304F,
      -0.0772109106F,   -0.0421635658F,   -0.0231155F,      -0.743198395F,
      1.22132623F,      -1.09987628F,     0.04938557F,      0.0220789649F,
      -0.0104227979F,   -0.932555F,       0.41486612F,      0.0952726F,
      -0.0037154567F,   0.036369931F,     -0.0344624147F,   0.0737376213F,
      0.00996712781F,   0.0394525975F,    -0.003441629F,    0.0650156811F,
      0.045030877F,     -0.0199891832F,   0.00234920764F,   -0.0107656689F,
      0.0859572887F,    -0.0136173237F,   -0.00921225175F,  1.07664669F,
      -0.598180473F,    -1.16158092F,     0.544632792F,     -0.815969288F,
      0.27547273F,      -0.562142193F,    -1.11377311F,     1.22702181F,
      0.0422022045F,    -0.0248544086F,   -0.0118306791F,   -0.0367959663F,
      0.0140855443F,    -0.0164048336F,   0.729211271F,     -1.36302853F,
      0.265404969F,     0.844147801F,     -0.304359972F,    -0.671226919F,
      -0.00722984504F,  -0.00116533646F,  -0.0290616378F,   0.00191727572F,
      -0.0743792132F,   -0.00829429086F,  0.082561478F,     -0.849011719F,
      0.768675804F,     0.0227301568F,    -0.0300773606F,   0.0226547569F,
      -0.0418929197F,   -0.0406522937F,   -0.0139626851F,   -0.438003182F,
      -0.856326878F,    1.29708421F,      0.539989889F,     -0.635263443F,
      0.247715488F,     -1.02396226F,     1.37944341F,      -0.481582642F,
      0.0207103677F,    -0.00687889755F,  0.0136637362F,    -0.887265086F,
      0.147802651F,     0.603856444F,     -0.983147085F,    0.261357099F,
      0.182823852F,     0.0234249067F,    0.0184160955F,    0.0152451247F,
      -0.23839511F,     0.126932666F,     0.0107465703F,    0.0394984148F,
      -0.0105428146F,   0.0124959834F,    -0.31853357F,     0.0295419544F,
      0.102734528F,     0.935159326F,     -1.16973007F,     0.263955116F,
      0.281989574F,     0.0401585847F,    -0.569658637F,    0.00285328575F,
      -0.000219806054F, 0.0542839207F,    0.641001523F,     -1.5394038F,
      0.633468F,        -0.0209623128F,   0.0222443864F,    0.00876325835F,
      0.179256603F,     0.383585572F,     -1.43600833F,     0.0487390384F,
      -0.00994518679F,  0.019727299F,     -0.0273563527F,   -0.0149042048F,
      -0.00268705282F,  0.0514344871F,    -0.00109127013F,  0.0319306292F,
      0.029519191F,     0.0455607548F,    0.0127985729F,    -0.497331887F,
      0.201188773F,     -0.068659842F,    -0.0124916928F,   0.00402952358F,
      -0.00302360067F,  0.0320206657F,    0.0405608118F,    0.0574358292F,
      0.00314002018F,   -0.0178261325F,   -0.000537880871F, 0.0689531639F,
      -0.809023F,       0.823046148F,     -1.23766875F,     -0.380714238F,
      0.827359F,        0.782336116F,     0.731614888F,     -2.35290885F,
      0.325538635F,     0.0485032722F,    -0.0467167646F,   -1.61884F,
      0.849395871F,     -0.299307883F,    0.629191279F,     -0.102478944F,
      -0.536462367F,    0.453785658F,     -0.634709179F,    0.186834961F,
      0.0403131545F,    0.00126326515F,   0.0146003906F,    -0.298252F,
      1.14264596F,      -1.10237861F,     0.0124255493F,    -1.61015701F,
      1.29408073F,      -7.17150615E-5F,  0.0123748761F,    0.00791500416F,
      -0.0171041749F,   0.013044362F,     0.0186668225F,    -0.018891098F,
      0.00308604096F,   -0.0393726F,      0.00391891878F,   -0.00621122587F,
      0.047330007F,     -0.975764573F,    0.631309152F,     4.7683734E-6F,
      -0.697756827F,    0.0163727738F,    0.475377321F,     0.595808685F,
      -1.42691529F,     0.595880806F,     0.0518204533F,    -0.0157717019F,
      0.00882117F,      -1.39211011F,     0.924051464F,     0.437295526F,
      -0.300438255F,    0.576348782F,     -0.651977777F,    -0.015461388F,
      -0.0238112137F,   0.036559768F,     0.0359748341F,    0.00641806331F,
      0.0380719416F,    -0.00849710125F,  0.00373795722F,   -0.0562124401F,
      0.0138901323F,    0.000637471559F,  0.0528635941F,    0.237899095F,
      -1.0805037F,      0.888765812F,     0.61641717F,      -0.571239889F,
      0.315858662F,     0.205613866F,     0.406861126F,     -1.56245792F,
      0.040941529F,     -0.0411247F,      -0.0198991671F,   -0.0232099928F,
      -0.0521735959F,   -0.0277348775F,   0.0339721F,       -0.0203792639F,
      0.0395234823F,    0.151029646F,     -0.0337022506F,   0.042252969F,
      -0.437354445F,    1.23108244F,      -1.31238389F,     -5.78548861E-5F,
      -0.00111178844F,  -0.0106551303F,   -0.0224688258F,   0.412343919F,
      -0.539457F,       0.00433051912F,   -0.814784F,       0.674916923F,
      -0.05776475F,     -0.0308775473F,   -0.0301410593F,   -0.787159622F,
      0.841718853F,     -0.428789228F,    -0.089475F,       0.00727001298F,
      0.030983394F,     0.00376577605F,   0.0233044159F,    -0.000842585054F,
      0.466204137F,     0.00324832415F,   -0.274308175F,    -0.048904147F,
      -0.0416509546F,   0.0923897475F,    -0.0330585912F,   0.018479554F,
      0.0143733127F,    0.0289338958F,    0.0102176517F,    -0.0360247046F,
      0.0888187289F,    -1.06277728F,     1.32875717F,      -0.111036867F,
      -1.15583134F,     1.08103096F,      0.0421499424F,    0.00862431526F,
      -0.00376831065F,  0.323715031F,     -0.0472557954F,   -0.835431039F,
      -0.235741481F,    0.601089478F,     0.0339601487F,    0.327260196F,
      -0.51060313F,     0.927154601F,     0.0297219567F,    0.00418712338F,
      -0.0185091179F,   -0.0144081144F,   -0.00828432F,     0.0326637365F,
      0.0302634742F,    -0.019143112F,    0.0328684114F,    -0.0193505138F,
      -0.00347904908F,  -0.00684113195F,  0.612688363F,     0.0571108498F,
      -0.822641194F,    -0.0333294608F,   -0.0130894724F,   0.0288193766F,
      0.00696323626F,   -0.0322210453F,   0.0570298582F,    0.222367123F,
      0.0943760127F,    -0.84961F,        0.165619642F,     0.254716277F,
      -0.195045665F,    0.0363844596F,    0.00594801875F,   -0.0422721021F,
      -1.57230628F,     -0.12680918F,     0.795259655F,     -0.0107153747F,
      -0.0691576F,      -0.00355907949F,  0.386898786F,     0.174186349F,
      -1.81535316F,     0.286163777F,     -0.804258823F,    0.665349662F,
      -0.0263690539F,   0.0242114067F,    -0.011167421F,    0.262317836F,
      -0.976882279F,    0.599709809F,     0.013457004F,     0.0698460191F,
      -0.0034310054F,   -0.0317227505F,   -0.045526471F,    -0.049918931F,
      0.0260522719F,    0.0359602198F,    0.0153546147F,    0.0132386321F,
      -0.0383665934F,   -0.0535389185F,   0.0314584635F,    -0.00619554706F,
      -0.0506531484F,   -0.290101081F,    0.59027344F,      -0.480955124F,
      -0.0135357575F,   0.0355088115F,    0.000792820938F,  0.151010692F,
      0.501796365F,     -0.737137616F,    0.0217468534F,    0.0336456187F,
      0.053539928F,     -0.0242063738F,   -0.0238895547F,   0.021874452F,
      0.0313464403F,    0.0238666926F,    -0.014357808F,    0.477238834F,
      -0.0780043527F,   -0.151703224F,    0.0178461596F,    0.0474008545F,
      0.0176848844F,    0.417171746F,     0.446983039F,     -1.89353466F,
      0.294235F,        -0.86417973F,     0.822365522F,     -0.0351468548F,
      -0.0195918437F,   -0.0104306126F,   0.0300280396F,    0.0263352916F,
      0.0295176264F,    -0.0125140389F,   -0.0391609669F,   -0.0242790785F,
      0.0287714358F,    0.005155853F,     -0.0164986774F,   0.0266665462F,
      0.0331717655F,    -0.0564096421F,   -0.0259805787F,   -0.0296119954F,
      -0.0495279506F,   -0.0172429308F,   0.0109430645F,    -0.0256299824F,
      -1.48505759F,     0.344798148F,     -0.0420548134F,   -0.722733915F,
      0.754168689F,     -0.402946621F,    0.0157255922F,    -0.0175752696F,
      0.0253812838F,    -0.440721661F,    -0.539723754F,    0.926694214F,
      0.5843997F,       -0.28195563F,     -0.298293471F,    -0.00702240085F,
      -0.0385869443F,   -0.0550682507F,   0.000749076426F,  0.021317197F,
      0.0445141718F,    -2.12795448F,     0.791741312F,     0.105689846F};
  static const float t0_Bias[3]{-0.267833024F, 0.795920134F, -0.731449783F};
  cell_wrap_14 outT_f3;
  float fv[400];
  float T[3];
  float maxVal;
  if (!obj->IsInitialized) {
    obj->IsInitialized = true;
  }
  layer::FullyConnectedActivation_predict(varargin_1, fv);
  layer::b_FullyConnectedActivation_predict(fv, outT_f3.f1);
  for (int k{0}; k < 3; k++) {
    maxVal = 0.0F;
    for (int i{0}; i < 300; i++) {
      maxVal += fv1[k + 3 * i] * outT_f3.f1[i];
    }
    T[k] = maxVal + t0_Bias[k];
  }
  maxVal = std::fmax(std::fmax(T[0], T[1]), T[2]);
  T[0] = std::exp(T[0] - maxVal);
  T[1] = std::exp(T[1] - maxVal);
  T[2] = std::exp(T[2] - maxVal);
  maxVal = (T[0] + T[1]) + T[2];
  varargout_1[0] = T[0] / maxVal;
  varargout_1[1] = T[1] / maxVal;
  varargout_1[2] = T[2] / maxVal;
}

} // namespace ctarget
} // namespace coder

//
// File trailer for predict.cpp
//
// [EOF]
//
